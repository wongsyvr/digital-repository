---
layout: default
---

<div class="item-container">
    <!-- Hierarchical Navigation -->
    <nav class="hierarchy-nav" aria-label="breadcrumb">
        <div class="container">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="{{ site.baseurl }}/">Home</a></li>
                <li class="breadcrumb-item"><a href="{{ site.baseurl }}/hierarchy.html">{{ site.data.fonds.title }}</a></li>
                <li class="breadcrumb-item"><a href="{{ site.baseurl }}/hierarchy.html#{{ page.series_id }}">{{ page.series }}</a></li>
                <li class="breadcrumb-item"><a href="{{ site.baseurl }}/hierarchy.html#{{ page.series_id }}-{{ page.file_id }}">{{ page.file }}</a></li>
                <li class="breadcrumb-item active" aria-current="page">{{ page.title }}</li>
            </ol>
        </div>
    </nav>

    <div class="container">
        <div class="item-layout">
            <!-- Left Column: Item Preview -->
            <div class="item-preview">
                <div class="preview-container">
                    {% case page.format %}
                        {% when 'text/plain' %}
                            <div class="text-preview card">
                                <div class="card-body text-center">
                                    <i class="fas fa-file-alt fa-4x text-primary mb-3"></i>
                                    <h3 class="h5">Text Document</h3>
                                    <p class="text-muted">Click below to view or download</p>
                                    <a href="{{ site.baseurl }}/objects/{{ page.objectid }}.txt" 
                                       class="button button-primary" 
                                       target="_blank">
                                        <i class="fas fa-download"></i> View Document
                                    </a>
                                </div>
                            </div>
                        {% when 'application/pdf' %}
                            <div class="pdf-preview card">
                                <div class="card-body text-center">
                                    <i class="fas fa-file-pdf fa-4x text-primary mb-3"></i>
                                    <h3 class="h5">PDF Document</h3>
                                    <p class="text-muted">Click below to view or download</p>
                                    <a href="{{ site.baseurl }}/objects/{{ page.objectid }}.pdf" 
                                       class="button button-primary" 
                                       target="_blank">
                                        <i class="fas fa-download"></i> View PDF
                                    </a>
                                </div>
                            </div>
                        {% when 'image/jpeg' or 'Image/jpeg' %}
                            <div class="image-preview">
                                <img src="{{ site.baseurl }}/objects/{{ page.objectid }}.jpg" 
                                     alt="{{ page.title }}"
                                     class="img-fluid">
                                <div class="image-tools">
                                    <button class="button button-secondary" onclick="zoomIn()">
                                        <i class="fas fa-search-plus"></i> Zoom In
                                    </button>
                                    <button class="button button-secondary" onclick="zoomOut()">
                                        <i class="fas fa-search-minus"></i> Zoom Out
                                    </button>
                                </div>
                            </div>
                        {% else %}
                            <div class="generic-preview card">
                                <div class="card-body text-center">
                                    <i class="fas fa-file fa-4x text-primary mb-3"></i>
                                    <h3 class="h5">{{ page.format }}</h3>
                                    <p class="text-muted">Click below to download</p>
                                    <a href="{{ site.baseurl }}/objects/{{ page.objectid }}" 
                                       class="button button-primary" 
                                       download>
                                        <i class="fas fa-download"></i> Download File
                                    </a>
                                </div>
                            </div>
                    {% endcase %}
                </div>

                {% if page.location %}
                <div class="location-preview">
                    <div id="map" style="height: 300px; margin-top: 1rem;"></div>
                </div>
                {% endif %}
            </div>

            <!-- Right Column: Metadata -->
            <div class="item-metadata">
                <div class="metadata-header">
                    <h1>{{ page.title }}</h1>
                    <div class="metadata-tools">
                        <button class="button button-secondary" onclick="window.print()">
                            <i class="fas fa-print"></i> Print
                        </button>
                        <button class="button button-secondary" onclick="sharePage()">
                            <i class="fas fa-share-alt"></i> Share
                        </button>
                    </div>
                </div>

                <div class="metadata-sections">
                    <!-- Core Metadata -->
                    <section class="metadata-section">
                        <h2>About This Item</h2>
                        <dl class="metadata-list">
                            <div class="metadata-item">
                                <dt>Identifier</dt>
                                <dd>{{ page.identifier }}</dd>
                            </div>
                            <div class="metadata-item">
                                <dt>Date</dt>
                                <dd>{{ page.date | date: "%B %d, %Y" }}</dd>
                            </div>
                            <div class="metadata-item">
                                <dt>Description</dt>
                                <dd>{{ page.description }}</dd>
                            </div>
                            {% if page.source %}
                            <div class="metadata-item">
                                <dt>Source</dt>
                                <dd>{{ page.source }}</dd>
                            </div>
                            {% endif %}
                            {% if page.location.name %}
                            <div class="metadata-item">
                                <dt>Location</dt>
                                <dd>{{ page.location.name }}</dd>
                            </div>
                            {% endif %}
                        </dl>
                    </section>

                    <!-- Technical Metadata -->
                    <section class="metadata-section">
                        <h2>Technical Details</h2>
                        <dl class="metadata-list">
                            <div class="metadata-item">
                                <dt>Type</dt>
                                <dd>{{ page.type }}</dd>
                            </div>
                            <div class="metadata-item">
                                <dt>Format</dt>
                                <dd>{{ page.format }}</dd>
                            </div>
                            <div class="metadata-item">
                                <dt>Language</dt>
                                <dd>{{ page.language }}</dd>
                            </div>
                        </dl>
                    </section>

                    <!-- Subject Tags -->
                    <section class="metadata-section">
                        <h2>Subjects</h2>
                        <div class="subject-tags">
                            {% assign subjects = page.subject | split: ';' %}
                            {% for subject in subjects %}
                                <a href="{{ site.baseurl }}/browse.html?subject={{ subject | strip | url_encode }}" 
                                   class="tag">
                                    {{ subject | strip }}
                                </a>
                            {% endfor %}
                        </div>
                    </section>

                    <!-- Rights -->
                    <section class="metadata-section">
                        <h2>Rights</h2>
                        <p class="rights-statement">{{ page.rights }}</p>
                    </section>
                </div>

                <!-- Item Navigation -->
                <nav class="item-navigation" aria-label="Item navigation">
                    {% assign items = site.pages | where: "layout", "item_page" | sort: "date" %}
                    {% for item in items %}
                        {% if item.url == page.url %}
                            <div class="nav-links">
                                {% unless forloop.first %}
                                    {% assign prev = items[forloop.index0 | minus: 1] %}
                                    <a href="{{ prev.url | relative_url }}" class="nav-previous">
                                        <i class="fas fa-chevron-left"></i>
                                        <span>Previous<br>{{ prev.title | truncate: 30 }}</span>
                                    </a>
                                {% endunless %}
                                {% unless forloop.last %}
                                    {% assign next = items[forloop.index0 | plus: 1] %}
                                    <a href="{{ next.url | relative_url }}" class="nav-next">
                                        <span>Next<br>{{ next.title | truncate: 30 }}</span>
                                        <i class="fas fa-chevron-right"></i>
                                    </a>
                                {% endunless %}
                            </div>
                            {% break %}
                        {% endif %}
                    {% endfor %}
                </nav>
            </div>
        </div>
    </div>
</div>

{% if page.location %}
<!-- Leaflet CSS and JS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>

<script>
document.addEventListener('DOMContentLoaded', function() {
    var map = L.map('map').setView([{{ page.location.latitude }}, {{ page.location.longitude }}], 13);
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: ' OpenStreetMap contributors'
    }).addTo(map);
    L.marker([{{ page.location.latitude }}, {{ page.location.longitude }}])
        .addTo(map)
        .bindPopup('{{ page.location.name }}')
        .openPopup();
});
</script>
{% endif %}

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

<script>
function zoomIn() {
    const img = document.querySelector('.image-preview img');
    const currentWidth = img.clientWidth;
    img.style.width = (currentWidth * 1.2) + 'px';
}

function zoomOut() {
    const img = document.querySelector('.image-preview img');
    const currentWidth = img.clientWidth;
    img.style.width = (currentWidth / 1.2) + 'px';
}

function sharePage() {
    if (navigator.share) {
        navigator.share({
            title: document.title,
            url: window.location.href
        });
    } else {
        const dummy = document.createElement('input');
        document.body.appendChild(dummy);
        dummy.value = window.location.href;
        dummy.select();
        document.execCommand('copy');
        document.body.removeChild(dummy);
        alert('URL copied to clipboard!');
    }
}
</script>
